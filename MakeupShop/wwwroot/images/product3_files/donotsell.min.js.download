function initiateClaripDNSS(){createClaripDoNotSellManager();for(var e=document.querySelectorAll(doNotSellLinkSelector),n=0;n<e.length;n++)e[n].onclick=function(){return claripDoNotSellManagerHandler(),!1};checkGPCSignal()}function receiveMessageFromClaripDnsManager(e){var n="https://"+claripCdnHost;if(e.origin===n&&void 0!==e.data){var o=e.data.messageType;void 0!==o&&("close-dns-manager"===o?hideDoNotSellManager():"proceed-to-dsr-form"===o?(enableEnforcementScope?checkEnforcementScope(e.data.stateSelected)&&setCookie(doNotSellCookieName,doNotSellCookieValue,doNotSellCookieExpirationAge):setCookie(doNotSellCookieName,doNotSellCookieValue,doNotSellCookieExpirationAge),"function"==typeof claripDNSSSubmissionWebCallback&&claripDNSSSubmissionWebCallback(),e.data.redirectToSuccessPage?(hideDoNotSellManager(),window.open(dnsSubmissionUrl,"_blank")):e.data.showSuccessMessageInPopup||hideDoNotSellManager()):"execute-gpc-dnss-submission-callback"===o&&(setCookie(doNotSellCookieName,doNotSellCookieValue,doNotSellCookieExpirationAge),"function"==typeof claripDNSSSubmissionWebCallback&&claripDNSSSubmissionWebCallback()))}}function createClaripDoNotSellManager(){var e=getDomainName(window.location.hostname),n=document.createElement("div");n.classList.add("clarip-dns-manager"),document.getElementsByTagName("body")[0].appendChild(n);var o='<iframe id="clarip-dns-manager-component" src="https://'+claripCdnHost+"/"+clientName+"/donotsell/"+("undefined"!=typeof dnsControllerType&&"option-1"===dnsControllerType?globalDnsDeployment?"controller.html":e+"-controller.html":globalDnsDeployment?"dsr-controller.html":e+"-dsr-controller.html")+"?start="+e+"&client="+clientName+"&brand="+window.location.hostname+"&globalDnsDeployment="+globalDnsDeployment+"&pageUrl="+encodeURIComponent(window.location.href)+'" width="100%" height="100%" frameborder="no" scrolling="yes" style="position: relative; margin-bottom: -20px;"></iframe>';n.innerHTML='<div class="clarip-dns-manager-content">'+o+"</div>"}function claripDoNotSellManagerHandler(){enableDoNotSellManager()}function showDoNotSellManager(){document.querySelector(".clarip-dns-manager").classList.add("show-dns-manager","clarip-dns-manager-position"),"undefined"!=typeof dynamicDSRFormFieldsPrefill&&!0===dynamicDSRFormFieldsPrefill&&prefillDSRFormFields()}function hideDoNotSellManager(){document.querySelector(".clarip-dns-manager").classList.remove("clarip-dns-manager-position","show-dns-manager")}function getCookie(e){for(var n=e+"=",o=decodeURI(document.cookie).split(";"),t=0;t<o.length;t++){for(var a=o[t];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(n))return a.substring(n.length,a.length)}return""}function setCookie(e,n,o){var t=getCookieDomain(),a=new Date;a.setTime(a.getTime()+864e5*o);var r="expires="+a.toGMTString();document.cookie=e+"="+n+";domain="+t+";"+r+";path=/"}function deleteCookie(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function getCookieDomain(){var e=location.hostname.split(".").reverse();return"."+e[1]+"."+e[0]}function getDomainName(e){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}function enableDoNotSellManager(){if("undefined"!=typeof enableGeolocation&&!0===enableGeolocation){var e=localStorage.getItem("countryCode"),n=localStorage.getItem("regionCode");null===e&&null===n?getUserGeolocation(function(e,n){if(e)return!1;var o=JSON.parse(n),t=o.countryCode,a=o.regionCode;localStorage.setItem("countryCode",t),localStorage.setItem("regionCode",a),enableDoNotSellManager()}):checkGeolocationCondition(e,n)?showDoNotSellManager():window.location.href=standardDsrFormUrl}else showDoNotSellManager()}function checkGeolocationCondition(e,n){return"undefined"==typeof countryList||null===countryList||0===countryList.length||1===countryList.length&&""===countryList[0]||("undefined"==typeof regionList||null===regionList||0===regionList.length||1===regionList.length&&""===regionList[0]?countryList.includes(e.toUpperCase()):countryList.includes(e.toUpperCase())&&regionList.includes(n.toUpperCase()))}function checkEnforcementScope(e){return"undefined"==typeof enforcementScopeRegionList||null===enforcementScopeRegionList||0===enforcementScopeRegionList.length||1===enforcementScopeRegionList.length&&""===enforcementScopeRegionList[0]||enforcementScopeRegionList.includes(e.toUpperCase())}function getUserGeolocation(e){var n="https://"+claripHost+"/donotsell/api/location.php",o=new XMLHttpRequest;o.open("GET",n,!1),o.onload=function(){e(null,o.response)},o.onerror=function(){e(o.response)},o.send()}function prefillDSRFormFields(){var e=document.getElementById("clarip-dns-manager-component"),n="undefined"!=typeof claripDNSSCustomerData?claripDNSSCustomerData:{};n.isDnssCaptured=getCookie(doNotSellCookieName)==doNotSellCookieValue.toString(),n.isGPCSignalEnabled=navigator.globalPrivacyControl,e.contentWindow.postMessage({messageType:"prefill-dsr-form",attr:{claripDNSSCustomerData:n}},"*")}function checkGPCSignal(){var e=navigator.globalPrivacyControl;if(e){var n="undefined"!=typeof claripDNSSCustomerData?claripDNSSCustomerData:{};isUserLoggedIn=void 0!==n.loggedIn&&n.loggedIn,isClaripDNSSCookieSet=getCookie(doNotSellCookieName)==doNotSellCookieValue.toString(),setCookie("clarip_gpc",e.toString(),doNotSellCookieExpirationAge),setCookie(doNotSellCookieName,doNotSellCookieValue,doNotSellCookieExpirationAge),!isUserLoggedIn&&(isUserLoggedIn||isClaripDNSSCookieSet)||setTimeout(function(){var e;document.getElementById("clarip-dns-manager-component").contentWindow.postMessage({messageType:"process-gpc-signal",attr:{claripDNSSCustomerData:n}},"*")},2e3)}else deleteCookie("clarip_gpc")}window.addEventListener("message",receiveMessageFromClaripDnsManager,!1),"complete"===document.readyState?initiateClaripDNSS():window.addEventListener("load",initiateClaripDNSS);